<html>
<script type="text/javascript">


</script>

<head>
    <title>RESENDER</title>
    <meta charset="utf-8">
</head>

<body>
    <div id="main">
        <label>Password</label> <input id="passwd" style="width: auto;" /><br>
        <label>Message</label><textarea id="message" type="text" rows=20 autofocus></textarea><br />
        <button onclick="on_send_click()">SEND</button>
    </div>

    <script>
        var input_area = document.getElementById('message')
        var passwd_input = document.getElementById('passwd')

        input_area.onkeydown = (e) => {
            e = e || window.event
            if (e.ctrlKey && e.keyCode == 13) {
                on_send_click()
            }
        }

        function on_send_click() {
            if (passwd_input.value === '') {
                alert('Password is empty!')
                return
            }
            var http = new XMLHttpRequest();
            http.open('POST', '', true)
            http.setRequestHeader("Content-Type", "application/json")
            data = { "data": input_area.value, "password": passwd_input.value }
            http.send(JSON.stringify(data))
            input_area.value = ""
        }

    </script>

    <style>
        button {
            width: 100%;
            height: 50px;
            display: block;
        }

        #main {
            max-width: 500px;
            margin: 0 auto;
        }

        #message {
            width: 100%;
        }
    </style>
</body>

</html>